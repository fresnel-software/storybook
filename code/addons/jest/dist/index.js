var l=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var x=(e,t)=>{for(var s in t)l(e,s,{get:t[s],enumerable:!0})},y=(e,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of g(t))!A.call(e,n)&&n!==s&&l(e,n,{get:()=>t[n],enumerable:!(r=c(t,n))||r.enumerable});return e};var E=e=>y(l({},"__esModule",{value:!0}),e);var h={};x(h,{withTests:()=>N});module.exports=E(h);var p=require("@storybook/addons"),o=require("upath");var m="storybookjs/test",_=`${m}/panel`,f=`${m}/add_tests`;function u(e){let{jest:t,fileName:s}=e;return typeof t=="string"?[t]:t&&Array.isArray(t)?t:t===void 0&&typeof s=="string"?[s.split("/").pop().split(".")[0]]:null}var P=(e,t,s)=>Object.values(e).map(r=>{let n=`${o.sep}${r}${s}`;if(t&&t.testResults){let i=new RegExp(n);return{fileName:n,name:r,result:t.testResults.find(a=>Boolean((0,o.normalize)(a.name).match(i)))}}return{fileName:n,name:r}}),D=({kind:e,story:t,testFiles:s,options:r})=>{p.addons.getChannel().emit(f,{kind:e,storyName:t,tests:P(s,r.results,r.filesExt)})},N=e=>{let s={...{filesExt:"((\\.specs?)|(\\.tests?))?(\\.[jt]sx?)?$"},...e};return(...r)=>{let[n,{kind:i,parameters:a={}}]=r,d=u(a);return d!==null&&D({kind:i,story:n,testFiles:d,options:s}),n()}};module&&module.hot&&module.hot.decline&&module.hot.decline();0&&(module.exports={withTests});
