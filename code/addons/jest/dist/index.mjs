import{d as m,e as d}from"./chunk-UQBOECPL.mjs";import{addons as a}from"@storybook/addons";import{normalize as u,sep as f}from"upath";var c=(n,s,i)=>Object.values(n).map(t=>{let e=`${f}${t}${i}`;if(s&&s.testResults){let r=new RegExp(e);return{fileName:e,name:t,result:s.testResults.find(o=>Boolean(u(o.name).match(r)))}}return{fileName:e,name:t}}),g=({kind:n,story:s,testFiles:i,options:t})=>{a.getChannel().emit(m,{kind:n,storyName:s,tests:c(i,t.results,t.filesExt)})},y=n=>{let i={...{filesExt:"((\\.specs?)|(\\.tests?))?(\\.[jt]sx?)?$"},...n};return(...t)=>{let[e,{kind:r,parameters:o={}}]=t,l=d(o);return l!==null&&g({kind:r,story:e,testFiles:l,options:i}),e()}};module&&module.hot&&module.hot.decline&&module.hot.decline();export{y as withTests};
