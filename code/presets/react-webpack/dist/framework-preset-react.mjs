import{a as r,b as i}from"./chunk-JVA5Y325.mjs";import n from"path";import u from"@pmmmwh/react-refresh-webpack-plugin";import{logger as p}from"@storybook/node-logger";var c=async e=>{let t=e.configType==="DEVELOPMENT",s=await e.presets.apply("framework"),o=typeof s=="object"?s.options:{};return t&&(o.fastRefresh||i.FAST_REFRESH==="true")},R=async(e,t)=>await c(t)?{...e,plugins:[[r.resolve("react-refresh/babel"),{},"storybook-react-refresh"],...e.plugins||[]]}:e,a=n.dirname(r.resolve("@storybook/preset-react-webpack/package.json")),l=a.includes("node_modules")?n.join(a,"../../"):n.join(a,"../../node_modules"),b=()=>{try{return r.resolve("react/jsx-runtime",{paths:[l]}),!0}catch{return!1}},h=async e=>{let t=b()?{runtime:"automatic"}:{};return{...e,presets:[...e?.presets||[],[r.resolve("@babel/preset-react"),t]],plugins:[...e?.plugins||[],r.resolve("babel-plugin-add-react-displayname")]}},k=async(e,t)=>await c(t)?e.plugins?.find(o=>o.constructor.name==="ReactRefreshPlugin")?(p.warn("=> React refresh is already set. You don't need to set the option"),e):(p.info("=> Using React fast refresh"),{...e,plugins:[...e.plugins||[],new u({overlay:{sockIntegration:"whm"}})]}):e;export{R as babel,h as babelDefault,k as webpackFinal};
