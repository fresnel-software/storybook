import m from"path";import i from"fs";import{parse as p}from"vue-docgen-api";import{createFilter as f}from"vite";import l from"magic-string";function s(){let e=f(/\.(vue)$/);return{name:"storybook:vue-docgen-plugin",async transform(t,r){if(!e(r))return;let a=await p(r),u=JSON.stringify(a),n=new l(t);return n.append(`;_sfc_main.__docgenInfo = ${u}`),{code:n.toString(),map:n.generateMap({hires:!0,source:r})}}}}var x=["@storybook/vue3"],C={builder:"@storybook/builder-vite"};function h(){let o=m.resolve("package.json");if(!i.existsSync(o))return!1;let e=i.readFileSync(o,"utf8");return JSON.parse(e)}var F=async(o,{presets:e})=>{let{plugins:t=[]}=o;return t.push(s()),{...o,plugins:t,resolve:{...o.resolve,alias:{...o.resolve?.alias,vue:"vue/dist/vue.esm-bundler.js"}}}};export{x as addons,C as core,h as readPackageJson,F as viteFinal};
