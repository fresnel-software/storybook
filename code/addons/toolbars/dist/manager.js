"use strict";var H=Object.create;var w=Object.defineProperty;var J=Object.getOwnPropertyDescriptor;var Q=Object.getOwnPropertyNames;var X=Object.getPrototypeOf,Y=Object.prototype.hasOwnProperty;var Z=(o,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Q(t))!Y.call(o,n)&&n!==e&&w(o,n,{get:()=>t[n],enumerable:!(r=J(t,n))||r.enumerable});return o};var g=(o,t,e)=>(e=o!=null?H(X(o)):{},Z(t||!o||!o.__esModule?w(e,"default",{value:o,enumerable:!0}):e,o));var q=g(require("react")),h=require("@storybook/addons");var x=g(require("react")),E=require("@storybook/api"),U=require("@storybook/components");var C=g(require("react")),z=require("@storybook/api"),M=require("@storybook/components");var N=g(require("react")),S=require("@storybook/components"),L=({active:o,title:t,icon:e,description:r,onClick:n})=>N.default.createElement(S.IconButton,{active:o,title:r,onClick:n},e&&N.default.createElement(S.Icons,{icon:e}),t?`\xA0${t}`:null);var c=g(require("react")),k=require("@storybook/api");var ee=["reset"],D=o=>o.filter(e=>!ee.includes(e.type)).map(e=>e.value);var b="addon-toolbars";var O=async(o,t,e)=>{e&&e.next&&await o.setAddonShortcut(b,{label:e.next.label,defaultShortcut:e.next.keys,actionName:`${t}:next`,action:e.next.action}),e&&e.previous&&await o.setAddonShortcut(b,{label:e.previous.label,defaultShortcut:e.previous.keys,actionName:`${t}:previous`,action:e.previous.action}),e&&e.reset&&await o.setAddonShortcut(b,{label:e.reset.label,defaultShortcut:e.reset.keys,actionName:`${t}:reset`,action:e.reset.action})};var G=o=>e=>{let{id:r,toolbar:{items:n,shortcuts:p}}=e,d=(0,k.useStorybookApi)(),[I,s]=(0,k.useGlobals)(),l=(0,c.useRef)([]),i=I[r],u=(0,c.useCallback)(()=>{s({[r]:""})},[s]),P=(0,c.useCallback)(()=>{let a=l.current,y=a.indexOf(i),A=y===a.length-1?0:y+1,m=l.current[A];s({[r]:m})},[l,i,s]),f=(0,c.useCallback)(()=>{let a=l.current,y=a.indexOf(i),T=y>-1?y:0,m=T===0?a.length-1:T-1,v=l.current[m];s({[r]:v})},[l,i,s]);return(0,c.useEffect)(()=>{p&&O(d,r,{next:{...p.next,action:P},previous:{...p.previous,action:f},reset:{...p.reset,action:u}})},[d,r,p,P,f,u]),(0,c.useEffect)(()=>{l.current=D(n)},[]),c.default.createElement(o,{cycleValues:l.current,...e})};var V=({currentValue:o,items:t})=>o!=null&&t.find(r=>r.value===o),F=({currentValue:o,items:t})=>{let e=V({currentValue:o,items:t});if(e)return e.icon},K=({currentValue:o,items:t})=>{let e=V({currentValue:o,items:t});if(e)return e.title};var W=g(require("react")),B=require("@storybook/components"),R=({left:o,right:t,title:e,value:r,icon:n,hideIcon:p,onClick:d,currentValue:I})=>{let s=n&&W.default.createElement(B.Icons,{style:{opacity:1},icon:n}),l=o||t||e,i={id:r||I,active:I===r,onClick:d};return o&&(i.left=o),t&&(i.right=t),e&&(i.title=e),n&&!p&&(l&&!t?i.right=s:l&&!o?i.left=s:l||(i.right=s)),i};var $=G(({id:o,name:t,description:e,toolbar:{icon:r,items:n,title:p,showName:d,preventDynamicIcon:I,dynamicTitle:s}})=>{let[l,i]=(0,z.useGlobals)(),u=l[o],P=!!u,f=r,a=p;I||(f=F({currentValue:u,items:n})||f),d&&!a?(a=t,console.warn("`showName` is deprecated as `name` will stop having dual purposes in the future. Please specify a `title` in `globalTypes` instead.")):!d&&!f&&!a&&(a=t,console.warn(`Using the \`name\` "${t}" as toolbar title for backward compatibility. \`name\` will stop having dual purposes in the future. Please specify either a \`title\` or an \`icon\` in \`globalTypes\` instead.`)),s&&(a=K({currentValue:u,items:n})||a);let y=(0,C.useCallback)(T=>{i({[o]:T})},[u,i]);return C.default.createElement(M.WithTooltip,{placement:"top",trigger:"click",tooltip:({onHide:T})=>{let A=n.filter(({type:m})=>{let v=!0;return m==="reset"&&!u&&(v=!1),v}).map(m=>R({...m,currentValue:u,onClick:()=>{y(m.value),T()}}));return C.default.createElement(M.TooltipLinkList,{links:A})},closeOnClick:!0},C.default.createElement(L,{active:P,description:e||"",icon:f,title:a||""}))});var te={type:"item",value:""},j=(o,t)=>({...t,name:t.name||o,description:t.description||o,toolbar:{...t.toolbar,items:t.toolbar.items.map(e=>{let r=typeof e=="string"?{value:e,title:e}:e;return r.type==="reset"&&t.toolbar.icon&&(r.icon=t.toolbar.icon,r.hideIcon=!0),{...te,...r}})}});var _=()=>{let o=(0,E.useGlobalTypes)(),t=Object.keys(o).filter(e=>!!o[e].toolbar);return t.length?x.default.createElement(x.default.Fragment,null,x.default.createElement(U.Separator,null),t.map(e=>{let r=j(e,o[e]);return x.default.createElement($,{key:e,id:e,...r})})):null};h.addons.register(b,()=>h.addons.add(b,{title:b,type:h.types.TOOL,match:()=>!0,render:()=>q.default.createElement(_,null)}));
