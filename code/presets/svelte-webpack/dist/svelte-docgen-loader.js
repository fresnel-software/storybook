"use strict";var y=Object.create;var c=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var D=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var x=(o,e)=>{for(var t in e)c(o,t,{get:e[t],enumerable:!0})},f=(o,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of C(e))!b.call(o,n)&&n!==t&&c(o,n,{get:()=>e[n],enumerable:!(r=O(e,n))||r.enumerable});return o};var i=(o,e,t)=>(t=o!=null?y(D(o)):{},f(e||!o||!o.__esModule?c(t,"default",{value:o,enumerable:!0}):t,o)),F=o=>f(c({},"__esModule",{value:!0}),o);var S={};x(S,{default:()=>$});module.exports=F(S);var g=i(require("sveltedoc-parser")),d=require("ts-dedent"),l=i(require("path")),u=i(require("fs")),h=require("svelte/compiler"),_=require("@storybook/node-logger");function N(o){if(!o)return null;let e=o.split(/[/\\]/).map(encodeURI);if(e.length>1){let n=e[e.length-1].match(/^index(\.\w+)/);n&&(e.pop(),e[e.length-1]+=n[1])}let t=e.pop();if(!t)throw new Error(`Could not derive component name from file ${o}`);let r=t.replace(/%/g,"u").replace(/\.[^.]+$/,"").replace(/[^a-zA-Z_$0-9]+/g,"_").replace(/^_/,"").replace(/_$/,"").replace(/^(\d)/,"_$1");if(!r)throw new Error(`Could not derive component name from file ${o}`);return r[0].toUpperCase()+r.slice(1)}async function $(o){let{resource:e}=this._module,t=this.getOptions(),{preprocess:r,logDocgen:n=!1}=t,p;if(r){let s=u.readFileSync(e).toString(),{code:a}=await(0,h.preprocess)(s,r);p={fileContent:a}}else p={filename:e};let v={...p,version:3},m="";try{let s=await g.default.parse(v),a=l.basename(e);s.name=l.basename(a);let w=N(e);m=d.dedent`
      ${w}.__docgen = ${JSON.stringify(s)};
    `}catch(s){n&&_.logger.error(s)}return o+m}0&&(module.exports={});
